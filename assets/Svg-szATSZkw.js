import{d as T,r as c,a as j,c as n,b as a,e as y,w as u,f as x,g as S,h as f,t as i,u as v,F as m,i as w,o as t,j as V,_ as H}from"./index-CYQzmWn1.js";const I={class:"svg-warp"},Q={class:"svg"},D={width:"600",height:"600",xmlns:"http://www.w3.org/2000/svg"},P={transform:"translate(300, 300) scale(1, -1)"},q=["d"],G={class:"svg-data"},J={class:"svg-btn"},K={style:{"margin-bottom":"10px",padding:"8px",background:"#f0f9ff","border-radius":"4px","font-size":"12px",color:"#666"}},W={key:0,style:{"margin-top":"10px","max-height":"200px","overflow-y":"auto"}},X={style:{"font-weight":"bold"}},Y={key:0,style:{"margin-left":"10px",color:"#666"}},ll=T({__name:"Svg",setup(el){let $={form:{}};const d=c("M");let A=c([{prop:"x",label:"起始点x坐标"},{prop:"y",label:"起始点y坐标"}]),s=c({x:"0",y:"0"});const g=j([{label:"移动到（初始点）",value:"M",colums:[{prop:"x",label:"起始点x坐标"},{prop:"y",label:"起始点y坐标"}],form:{x:"",y:""}},{label:"直线到",value:"L",colums:[{prop:"x1",label:"x坐标"},{prop:"y1",label:"y坐标"}],form:{x1:"",y1:""}},{label:"水平线到",value:"H",colums:[{prop:"x2",label:"x坐标"}],form:{x2:""}},{label:"垂直线到",value:"V",colums:[{prop:"y2",label:"y坐标"}],form:{y2:""}},{label:"闭合路径",value:"Z"},{label:"三次贝塞尔曲线",value:"C",colums:[{prop:"x3",label:"点1的x坐标"},{prop:"y3",label:"点1的y坐标"},{prop:"x4",label:"点2的x坐标"},{prop:"y4",label:"点2的y坐标"},{prop:"x5",label:"终点的x坐标"},{prop:"y5",label:"终点的y坐标"}],form:{x3:"",y3:"",x4:"",y4:"",x5:"",y5:""}},{label:"二次贝塞尔曲线",value:"Q",colums:[{prop:"x6",label:"点1的x坐标"},{prop:"y6",label:"点1的y坐标"},{prop:"x7",label:"终点的x坐标"},{prop:"y7",label:"终点的y坐标"}],form:{x6:"",y6:"",x7:"",y7:""}},{label:"圆弧",value:"A",colums:[{prop:"rx",label:"x半径"},{prop:"ry",label:"y半径"},{prop:"xAxisRotation",label:"旋转角度"},{prop:"largeArcFlag",label:"大弧/小弧",dataSource:[{label:"小弧",value:0},{label:"大弧",value:1}]},{prop:"sweepFlag",label:"逆时针/顺时针",dataSource:[{label:"顺时针",value:0},{label:"逆时针",value:1}]},{prop:"x8",label:"终点x坐标"},{prop:"y8",label:"终点y坐标"}],form:{rx:"",ry:"",xAxisRotation:"",largeArcFlag:"",sweepFlag:"",x8:"",y8:""}}]),b=c("");c(""),c("");const r=j([]),M=()=>{r.length==0&&d.value!="M"&&(r.push({x:0,y:0,type:"M"}),b.value="M 0 0"),r.push({...s.value,type:d.value});let e=b.value;d.value=="Z"?(e=e+" Z",b.value=e):(e=e+` ${d.value}`,A.value.forEach(l=>{e=e+` ${s.value[l.prop]}`}),console.log(e),b.value=e),C()},C=()=>{if($&&$.form)s.value={...$.form};else{const e=g.find(l=>l.value===d.value);e&&e.form?s.value={...e.form}:s.value={x:"",y:"",x1:"",y1:"",x2:"",y2:"",x3:"",y3:"",x4:"",y4:"",x5:"",y5:"",x6:"",y6:"",x7:"",y7:"",x8:"",y8:"",rx:"",ry:"",xAxisRotation:"",largeArcFlag:"",sweepFlag:""}}},Z=e=>{console.log(e);let l=g.filter(_=>_.value==e);$={...l[0]},A.value=l[0].colums,C()},U=()=>{if(r.length===0)return;r.pop();let e="";r.forEach(l=>{l.type==="Z"?e+=" Z":(e+=` ${l.type}`,l.type==="M"?e+=` ${l.x} ${l.y}`:l.type==="L"?e+=` ${l.x1} ${l.y1}`:l.type==="H"?e+=` ${l.x2}`:l.type==="V"?e+=` ${l.y2}`:l.type==="C"?e+=` ${l.x3} ${l.y3} ${l.x4} ${l.y4} ${l.x5} ${l.y5}`:l.type==="Q"?e+=` ${l.x6} ${l.y6} ${l.x7} ${l.y7}`:l.type==="A"&&(e+=` ${l.rx} ${l.ry} ${l.xAxisRotation} ${l.largeArcFlag} ${l.sweepFlag} ${l.x8} ${l.y8}`))}),b.value=e},B=e=>g.filter(_=>_.value==e)[0].label,N=()=>{r.length=0,b.value=""};return(e,l)=>{const _=x("el-radio"),R=x("el-radio-group"),z=x("el-input"),F=x("el-form-item"),E=x("el-option"),L=x("el-select"),O=x("el-form"),h=x("el-button");return t(),n("div",I,[a("div",Q,[(t(),n("svg",D,[a("g",P,[l[1]||(l[1]=a("circle",{cx:"0",cy:"0",r:"5",fill:"red"},null,-1)),l[2]||(l[2]=a("line",{x1:"-300",y1:"0",x2:"300",y2:"0",stroke:"#ccc"},null,-1)),l[3]||(l[3]=a("line",{x1:"0",y1:"-300",x2:"0",y2:"300",stroke:"#ccc"},null,-1)),l[4]||(l[4]=a("line",{x1:"0",y1:"-300",x2:"0",y2:"300",stroke:"#ccc"},null,-1)),a("path",{d:b.value,fill:"none",stroke:"black","stroke-width":"2"},null,8,q)])]))]),a("div",G,[a("div",null,[l[5]||(l[5]=a("p",{class:"title"},"类型路径选择：",-1)),y(R,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=o=>d.value=o)},{default:u(()=>[(t(!0),n(m,null,w(g,o=>(t(),V(_,{onChange:Z,value:o.value,size:"large",key:o.value},{default:u(()=>[f(i(o.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),a("div",J,[l[11]||(l[11]=a("p",{class:"title"},"路径数据：",-1)),a("div",K,[l[6]||(l[6]=f(" 当前类型：",-1)),a("strong",null,i(g.find(o=>o.value===d.value)?.label||d.value),1)]),y(O,{inline:!0,model:v(s),class:"demo-form-inline"},{default:u(()=>[(t(!0),n(m,null,w(v(A),(o,k)=>(t(),n(m,{key:k},[o.dataSource?(t(),V(F,{key:1,label:o.label,style:{width:"100%"}},{default:u(()=>[y(L,{style:{width:"100%"},modelValue:v(s)[o.prop],"onUpdate:modelValue":p=>v(s)[o.prop]=p,placeholder:" "},{default:u(()=>[(t(!0),n(m,null,w(o.dataSource,p=>(t(),V(E,{key:p.label,label:p.label,value:p.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])):(t(),V(F,{key:0,style:{width:"100%"},label:o.label},{default:u(()=>[y(z,{modelValue:v(s)[o.prop],"onUpdate:modelValue":p=>v(s)[o.prop]=p,placeholder:" ",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))],64))),128))]),_:1},8,["model"]),y(h,{onClick:M,style:{"margin-bottom":"10px"},type:"primary",plain:""},{default:u(()=>l[7]||(l[7]=[f("添加路径",-1)])),_:1,__:[7]}),y(h,{onClick:U,style:{"margin-bottom":"10px"},disabled:r.length===0,type:"primary",plain:""},{default:u(()=>[f("删除上一段路径 ("+i(r.length)+")",1)]),_:1},8,["disabled"]),y(h,{onClick:C,style:{"margin-bottom":"10px"},type:"warning",plain:""},{default:u(()=>l[8]||(l[8]=[f("清空输入框",-1)])),_:1,__:[8]}),y(h,{onClick:N,disabled:r.length===0,type:"danger",plain:""},{default:u(()=>l[9]||(l[9]=[f("清空所有路径",-1)])),_:1,__:[9]},8,["disabled"]),r.length>0?(t(),n("div",W,[l[10]||(l[10]=a("p",{class:"title"},"已添加的路径：",-1)),(t(!0),n(m,null,w(r,(o,k)=>(t(),n("div",{key:k,style:{"font-size":"12px",margin:"5px 0",padding:"5px",background:"#f5f5f5","border-radius":"3px"}},[a("span",X,i(k+1)+". "+i(B(o.type)),1),o.type!=="Z"?(t(),n("span",Y," ("+i(Object.values(o).filter(p=>p!==o.type&&p!==void 0&&p!=="").join(", "))+") ",1)):S("",!0)]))),128))])):S("",!0)])])])}}}),al=H(ll,[["__scopeId","data-v-dad79dc4"]]);export{al as default};
